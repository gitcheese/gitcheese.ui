<link rel="import" href="../../bower_components/polymer/polymer.html">
<script>
(function() {
  window.GitcheeseBehaviors = window.GitcheeseBehaviors || {};
  GitcheeseBehaviors.LazyComponentsBehavior = {
    properties: {
      lazyComponentsLoaded: {
        type: Boolean,
        value: false
      }
    },
    ensureLazyComponents: function() {
      if (this.lazyComponentsLoaded || !this.lazyComponents) {
        return;
      }
      this.lazyComponentsLoaded = true;
      this.lazyComponents.forEach((c) => {
        Polymer.RenderStatus.afterNextRender(this, () => {
          let url = this.resolveUrl(c);
          this.importHref(url, null, null, true);
        });
      });
    }
  };
}());
</script>
